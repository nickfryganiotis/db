THE FOLLOWING QUERY RETURNS THE NAMES OF THE MOST BUYED PRODUCT PAIRS AND THE TIMES THEY ARE BOUGHT TOGETHER
--------------------------------------------------------------------------------------------------------------------------------------------------
SELECT pro1, pro2, times_bought_together
FROM(
	SELECT c.original AS c1 , c.bought_with AS c2, count(*) as times_bought_together
	FROM(
		SELECT a.barcode as original, b.barcode as bought_with
		FROM market.product_contains a
		INNER JOIN market.product_contains b
		ON a.date_time = b.date_time AND a.card_number = b.card_number AND a.barcode != b.barcode) AS c
	GROUP BY c.original, c.bought_with) AS dimakis,
	(SELECT d.product_name as pro1, e.product_name as pro2, d.barcode as bar1, e.barcode as bar2
	FROM product d
	INNER JOIN product e
	ON d.barcode != e.barcode) AS zevgara
WHERE dimakis.c1 = zevgara.bar1 AND dimakis.c2 = zevgara.bar2
ORDER BY times_bought_together DESC;
____________________________________________________________________________________________________________________________________________________
THE FOLLOWING QUERY RETURN THE MOST POPULAR POSITIONS OF PRODUCTS IN A STORE, NAMELY ALLEY AND SHELF NUMBERS AS WELL AS THE FREQUENCY OF EVERY PAIR 
-----------------------------------------------------------------------------------------------------------------------------------------------------
SELECT alley_number, shelf_number, count(*) AS times_together
FROM offers
GROUP BY alley_number, shelf_number
ORDER BY times_together DESC;
_______________________________________________________________________________________________________________________________________________________
THE FOLLOWING QUERY RETURNS THE PERCENTAGES OF BRAND NAME HMMYMARKET PRODUCTS BOUGHT OVER THE TOTAL NUMBER OF PRODUCTS BOUGHT FOR EACH CATEGORY
------------------------------------------------------------------------------------------------------------------------------------------------------
SELECT CAST((IFNULL(r1,0)/r2)*100 AS DECIMAL(4,2)) AS brand_name_percentage, cat2 AS category_name
FROM
	(SELECT count(*) AS r1, cat1
	FROM(
		SELECT card_number as c1, date_time as d1, category_name as cat1
		FROM product_contains c, product p, category cat
		WHERE c.barcode = p.barcode AND p.brand_name = 'HMMYmarket' AND cat.categoryID = p.categoryID) AS b
	GROUP BY b.cat1) AS mou
RIGHT JOIN (SELECT count(*) as r2, cat2
	FROM(
		SELECT card_number as c2, date_time as d2, category_name AS cat2
		FROM product_contains c, category cat, product p
		WHERE c.barcode = p.barcode AND p.categoryID = cat.categoryID) AS o
    GROUP BY o.cat2) AS leipeis
ON mou.cat1 = leipeis.cat2
GROUP BY cat2;
___________________________________________________________________________________________________________________________________________________________
THE FOLLOWING QUERY RETURNS HOURS OF THE DAY IN WHICH CUSTOMERS SPEND THE MOST MONEY, IN DESCENDING ORDER OF TOTAL AMOUNT OF MONEY SPENT
------------------------------------------------------------------------------------------------------------------------------------------------------------
SELECT HOUR(date_time) hour_of_transaction, CAST(SUM(total_amount) AS DECIMAL(10,2)) AS total_money_spent_in_this_hour
FROM product_transaction
GROUP BY HOUR(date_time)
ORDER BY SUM(total_amount) DESC;